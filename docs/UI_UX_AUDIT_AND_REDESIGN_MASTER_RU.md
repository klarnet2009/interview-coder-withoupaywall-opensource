# UI/UX аудит и концептуальный редизайн

Дата: 2026-02-07  
Проект: `interview-coder-withoupaywall-opensource`  
Формат: полный вывод анализа + план внедрения

## 0. Область анализа и источники

Анализ выполнен по коду интерфейса и логики приложения (Electron + React), включая:
- основной роутинг и инициализацию состояния;
- onboarding/wizard и settings;
- основной рабочий экран (screenshot + live audio flow);
- обработку real-time статусов и событий;
- тексты/обещания продукта в интерфейсе и документации.

Ключевые проверенные файлы:
- `src/App.tsx`
- `src/components/UnifiedPanel/UnifiedPanel.tsx`
- `src/_pages/Queue.tsx`
- `src/_pages/Solutions.tsx`
- `src/_pages/Debug.tsx`
- `src/_pages/DebugLive.tsx`
- `src/components/Wizard/WizardContainer.tsx`
- `src/components/Wizard/WizardSteps/*.tsx`
- `src/components/Settings/SettingsDialog.tsx`
- `electron/ProcessingHelper.ts`
- `electron/audio/LiveInterviewService.ts`
- `electron/shortcuts.ts`
- `electron/preload.ts`
- `electron/SecureStorage.ts`
- `README.md`

---

## 1. Глобальное понимание продукта (с нуля)

### 1.1 Восстановленная идея продукта

Это desktop-инструмент (Electron), который помогает кандидату во время технического интервью:
- захватывает скриншоты задачи/кода;
- отправляет их в LLM для извлечения условия и генерации решения;
- может слушать аудио интервью и выдавать подсказки в реальном времени;
- делает акцент на минимальной заметности окна и управлении через горячие клавиши.

### 1.2 Кто основной пользователь

Основной пользователь: кандидат на техническую позицию, проходящий live-интервью под давлением времени и когнитивной нагрузки.

### 1.3 Реальный сценарий использования

Человек одновременно:
- слушает интервьюера;
- читает/пишет код;
- переключает видимость окна;
- делает скриншоты и запускает обработку;
- следит за подсказками в условиях ограниченного внимания.

### 1.4 Какая реальная проблема решается

Не просто "дать фичи AI", а сократить время между получением вопроса и рабочим ответом:  
"быстро извлечь структуру задачи, получить решение/дебаг и не потерять поток разговора".

### 1.5 Core value proposition (1 фраза)

"Приложение ускоряет реакцию кандидата в интервью, превращая вопрос из экрана/аудио в структурированный ответ с минимальным UI-трением."

### 1.6 Эмоциональное состояние пользователя

Доминируют: стресс, срочность, фрагментированное внимание, высокая цена ошибки.

### 1.7 Слабые места концепта и противоречия

1. Противоречие позиционирования:
- в продукте есть явный "stealth/bypass" нарратив;
- одновременно заявляется "learning/practice".  
Это снижает доверие и делает тон продукта непоследовательным.

2. Противоречие обещаний и реализации:
- заявлена "богатая" мульти-режимность (behavioral/system design/profile-driven flow),
- но основной production-флоу по факту screenshot->LLM остается доминирующим.

3. Противоречие безопасности:
- UI обещает OS-level encryption для ключа,
- в коде encryption выключен (`isEncryptionAvailable() -> false`).

---

## 2. End-to-end пользовательский путь (A -> Z)

## 2.1 Первый запуск / onboarding

### Что ожидает пользователь
- одно понятное первое действие;
- быстрый путь "запустил -> проверил -> готов".

### Что происходит фактически
- есть Welcome-экран и отдельный Wizard-оверлей;
- решение, что показывать, зависит от комбинации `hasApiKey` и `wizardCompleted`;
- логика входа воспринимается как два параллельных entry-point.

### Фрикции
- дублирование ментальной модели старта;
- возможная путаница "я уже настроил ключ, почему снова стартовый экран?".

## 2.2 Permissions и setup

### Что ожидает пользователь
- реальные проверки аудио и API, чтобы не сорваться в live-сценарии.

### Что происходит фактически
- часть wizard-проверок симулируется (fake latency, random audio level);
- в UI это выглядит как реальная валидация.

### Фрикции
- ложное чувство готовности;
- риск провала первого же реального кейса.

## 2.3 First meaningful interaction

### Что ожидает пользователь
- простой порядок: capture -> process -> получить ответ.

### Что происходит фактически
- командная панель перегружена мелкими иконками;
- много критичных действий в одном узком верхнем ряду.

### Фрикции
- высокая цена мисклика;
- слабая discoverability для новичка.

## 2.4 Regular usage

### Что ожидает пользователь
- прозрачные статусы этапов обработки;
- предсказуемое поведение при задержках.

### Что происходит фактически
- backend отправляет `processing-status`,
- UI не подписан на это событие; пользователь не видит этапы.

### Фрикции
- "тишина" в момент ожидания;
- чувство потери контроля.

## 2.5 Edge cases (errors, silence, delays)

### Что ожидает пользователь
- явная причина ошибки и шаг восстановления.

### Что происходит фактически
- часть ошибок сводится к toast без контекстного next action;
- "Log out" ведет себя по-разному в разных местах.

### Фрикции
- неочевидно, что именно делать дальше;
- непоследовательная терминология.

## 2.6 Exit / background / re-entry

### Что ожидает пользователь
- единые и точные хоткеи везде.

### Что происходит фактически
- в разных экранах/подсказках встречаются разные toggle-комбинации (`Ctrl+\`` vs `Ctrl/Cmd+B`);
- реальный shortcut зарегистрирован как `CommandOrControl+B`.

### Фрикции
- ошибки в управлении в стрессовом режиме;
- просадка доверия к интерфейсу.

---

## 3. Heuristic audit (критический)

## 3.1 Nielsen heuristics

### 1) Visibility of system status
- Проблема: этапы обработки не визуализируются, несмотря на наличие событий.
- Риск: ощущение "зависло" при нормальной работе.

### 2) Match between system and real world
- Проблема: тесты в wizard выглядят как реальные, но по факту симуляция.
- Риск: ложная операционная уверенность.

### 3) User control and freedom
- Проблема: разное поведение у "Log out" на разных экранах.
- Риск: пользователь не понимает последствия действия.

### 4) Consistency and standards
- Проблема: конфликт документации hotkeys и фактических shortcuts.
- Риск: рост когнитивной нагрузки и числа ошибок.

### 5) Error prevention
- Проблема: рядом собраны destructive и utility actions в компактной зоне.
- Риск: случайные критичные действия.

### 6) Recognition rather than recall
- Проблема: reliance на память хоткеев и аббревиатур вместо явных подсказок.

### 7) Flexibility and efficiency
- Проблема: для power-user горячие клавиши есть, но для first-run UX перегружен.

### 8) Aesthetic and minimalist design
- Проблема: визуально "минималистично", но информационно перегружено в микромасштабе.

### 9) Help users recover from errors
- Проблема: мало actionable recovery внутри контекста ошибки.

### 10) Help and documentation
- Проблема: часть подсказок не совпадает с реализацией.

## 3.2 Cognitive Load Theory

- Extraneous load высокий:
- слишком мелкие элементы,
- много одновременных вариантов действий,
- неоднородные термины.

- Germane load проседает:
- пользователь тратит внимание не на задачу интервью, а на управление интерфейсом.

## 3.3 Fitts's Law

- Много целевых элементов малой площади в critical path (`p-1`, `p-1.5`, `w-3`, `w-3.5`).
- Для стрессового режима и моторной неточности это неустойчиво.

## 3.4 Hick's Law

- В главной панели одновременно: screenshot, solve, source select, stop, settings tooltip, debug, logout, quit.
- Слишком много выбора в момент, когда нужен один "главный следующий шаг".

## 3.5 Gestalt principles

- Близость (proximity) нарушает приоритеты: рискованные и обычные действия визуально в одном кластере.
- Иерархия не соответствует важности сценария.

## 3.6 Accessibility

- Частое использование очень малого текста (`9-10px`).
- Низкий контраст на вторичных текстах (`text-white/40`).
- Недостаточные hit areas для ряда controls.
- UI зависит от hover-tooltips, что плохо для некоторых сценариев и устройств.

---

## 4. Real-time взаимодействие и восприятие latency

## 4.1 Как UI сейчас сообщает состояния

В целом, есть состояния:
- `idle`
- `connecting`
- `listening`
- `no_signal`
- `transcribing`
- `generating`
- `error`

Но в главном UX они чаще сведены к:
- маленькой статусной точке;
- небольшой иконке спиннера;
- частично тексту в контент-блоках.

## 4.2 Ощущения пользователя

- Контроль: средний (start/stop есть, но обратная связь не всегда ясна).
- Предсказуемость: средняя/низкая (не всегда ясно, на каком шаге pipeline).
- Доверие: снижается из-за несоответствий текстов и поведения.

## 4.3 Что нужно для маскировки latency

1. Явная "state lane" в верхней части:
- `Listening`
- `Transcribing`
- `Generating hint`
- `Ready`
- `No signal`

2. Тайминг шага:
- `step duration` + "last update x sec ago".

3. Progressive disclosure:
- показывать частичный результат сразу;
- не блокировать интерфейс "глухим ожиданием".

4. Error-to-action:
- при любой ошибке давать конкретное действие: `Retry`, `Open settings`, `Switch source`.

---

## 5. Информационная архитектура и логика экранов

## 5.1 Текущее состояние IA

Сейчас есть наложение:
- Queue/Solutions/Debug path;
- DebugLive route;
- Wizard;
- Settings;
- legacy поверхности из старого subscription-потока.

## 5.2 Предлагаемая IA

### Primary
- `Session` (главный экран): capture + live + response.

### Secondary
- `Setup` (provider/key/audio/display/hotkeys).

### Tertiary
- `History/Debug` (журнал, replay, техдиагностика).

## 5.3 Упрощенная ментальная модель

```text
Idle -> Ready to Capture -> Processing -> Responding -> Follow-up
Idle -> Live Listening -> Transcribing -> Generating -> Responding
Any State -> Error -> Recovery -> Previous Stable State
```

## 5.4 Что должно быть видно сразу

- Один главный CTA по контексту (Capture или Start Listening).
- Текущий state и прогресс шага.
- Последний ответ/подсказка.

## 5.5 Что должно быть прогрессивно скрыто

- расширенные настройки модели;
- профили и продвинутые personalization опции;
- технические debug-controls.

---

## 6. Visual language и tone

## 6.1 Оценка текущего визуала

Плюсы:
- темная визуальная система соответствует stealth-режиму;
- единая стилистика компонентов в большинстве flow.

Минусы:
- чрезмерная "микроплотность";
- часть UI слишком мелкая для стрессового реального использования;
- иерархия важности "размазана" между utility и critical actions.

## 6.2 Соответствие скорости/назначению

Сейчас стиль частично помогает "прятаться", но недостаточно помогает "быстро и безошибочно действовать".

## 6.3 Масштабирование mobile/desktop

Формально responsive-классы есть местами, но архитектура панели больше desktop-centric и не оптимальна для маленьких viewport.

## 6.4 Предложенное визуальное направление

Философия: "операционный HUD, не мини-утилита".

Принципы:
- четкая статусная индикация;
- укрупненные primary-controls;
- ограничение декоративных состояний;
- типографика, читаемая с первого взгляда;
- motion только как функциональный feedback.

---

## 7. Конкретный редизайн (концепт)

## 7.1 Reworked conceptual flow

1. Launch -> выбор режима:
- `Practice`
- `Live Assist`

2. Setup Gate:
- provider + key + реальный audio check + hotkeys verify.

3. Session HUD:
- primary controls + status lane + response stream.

4. Follow-up:
- refine, debug, regenerate, copy.

5. Recovery:
- inline card с точной причиной и кнопкой next action.

## 7.2 Ключевые экраны

### Экран A: Setup Gate

Состав:
- provider card selection;
- API key + real test (не симуляция);
- audio source + real signal test;
- security text, соответствующий факту.

Почему:
- минимизирует риск "ложной готовности".

### Экран B: Session HUD (основной)

Состав:
- крупные primary actions:
- `Capture`
- `Solve`
- `Start/Stop Listening`
- status lane с этапом и таймером;
- компактный stream "что услышано" и "что генерируется".

Почему:
- снижает время решения "что делать сейчас".

### Экран C: Response Workspace

Состав:
- streamed ответ;
- блок "Key points";
- блок "Code";
- quick actions по контексту.

Почему:
- улучшает сканируемость под давлением.

### Экран D: Debug Workspace

Состав:
- структура:
- Issue
- Fix
- Why
- Next check

Почему:
- убирает "простыню текста", делает debug операционным.

### Экран E: Recovery State

Состав:
- human-readable причина;
- CTA:
- `Retry`
- `Open Settings`
- `Switch Audio Source`

Почему:
- превращает ошибку в продолжение потока, а не тупик.

## 7.3 Interaction rules

1. Анимация только для:
- смены статуса;
- появления частичных результатов;
- подтверждения успешного действия.

2. Никаких декоративных спиннеров без текста этапа.

3. Во время processing:
- не блокировать весь UI;
- disable только конфликтующие действия.

4. Tooltip-подсказки не должны быть единственным способом узнать critical информацию.

---

## 8. Приоритет и план внедрения

## 8.1 P0 (обязательно, сразу)

1. Синхронизировать хоткеи везде с фактической регистрацией shortcut.
2. Подключить и отобразить `processing-status` в renderer.
3. Удалить/переименовать fake-тесты или сделать их реальными.
4. Исправить security copy по фактической модели хранения ключа.
5. Нормализовать семантику и поведение `Log out`.

## 8.2 P1 (высокий импакт)

1. Пересобрать главную панель в формат "крупные primary + status lane".
2. Поднять минимальный размер текста и hit area.
3. Упростить IA и убрать legacy-шумы из основного потока.
4. Привязать wizard-настройки к фактическому runtime-поведению.

## 8.3 P2 (можно после стабилизации)

1. Расширенная персонализация (profiles, answer style) только после реальной интеграции в prompts.
2. Полноценный history/replay.
3. Тонкая визуальная polishing-фаза.

## 8.4 Предложенный спринт-план

### Спринт 1 (2-3 дня, P0)
- хоткеи, security copy, logout semantics, wiring processing-status.

### Спринт 2 (3-4 дня, P0/P1)
- status lane + latency masking + укрупнение критичных controls.

### Спринт 3 (3 дня, P1)
- честный onboarding: real checks вместо симуляций.

### Спринт 4 (2-3 дня, P1)
- IA cleanup + cleanup legacy flows.

### Спринт 5 (2 дня, P1/P2)
- доступность/читабельность/contrast/hit areas.

### Спринт 6 (2 дня, P2)
- QA + сценарные smoke-tests + метрики.

---

## 9. Ключевые риски и как их контролировать

1. Риск регрессий в hotkeys и stealth-поведении:
- нужен отдельный smoke checklist на каждый билд.

2. Риск "косметических" правок без изменения опыта:
- принимать задачи только с UX acceptance criteria.

3. Риск роста сложности при редизайне:
- внедрять поэтапно через feature flags/миграционные шаги.

4. Риск потери доверия из-за текстов:
- привести product copy в строгую техническую точность.

---

## 10. Метрики успеха (продуктовые)

1. Time to first useful answer (TTFUA).
2. Доля сессий без "silent wait confusion".
3. Успешность first-run setup без ручной диагностики.
4. Количество ошибок по горячим клавишам/неправильному действию.
5. Доля успешного recovery после ошибки (retry/open settings).

---

## 11. Definition of Done для ближайшей фазы (P0)

1. Во всех экранах hotkeys совпадают с `electron/shortcuts.ts`.
2. Пользователь видит этапы pipeline в реальном времени.
3. В onboarding нет ложных "passed" при симуляции.
4. Security-текст полностью соответствует факту хранения ключа.
5. `Log out` означает одно и то же поведение во всех местах.

---

## 12. Итог

Главная проблема не в "красоте", а в операционной предсказуемости:  
пользователь в стрессовом режиме должен за 1-2 секунды понимать:
- где он в процессе;
- что делать сейчас;
- почему есть задержка;
- как восстановиться при ошибке.

Редизайн должен сделать интерфейс неизбежно понятным и быстрым, а не просто темным и "минималистичным".
